START_DATE: "11/05/2019 00:00:00"
INTERVAL: "0 7 * * *"
PROJECT_ID : 'newsuk-datatech-uat-144114'
authentication_file: '/opt/.d2p_config/config/appnexus_auth.json'
AUTH_URL: 'https://api.appnexus.com/auth'
REPORT_URL: 'https://api.appnexus.com/report'
DOWNLOAD_URL: 'https://api.appnexus.com/report-download'

REPORTS:
      - report: 'network_analytics'
        columns: ["adjustment_day","adjustment_hour","buyer_member_id","buyer_member_name","buyer_type","buying_currency","adjustment_id","advertiser_code","advertiser_currency","advertiser_id","advertiser_name","advertiser_type","bid_type","brand_id","brand_name","campaign_code","campaign_name","campaign_priority","creative_code","creative_id","creative_name","day","inventory_class","imps_filtered_reason","imps_filtered_reason_id","imp_type","imp_type_id", "deal_code","deal_id","deal_name","entity_member_id","geo_country","geo_country_name","marketplace_clearing_event","marketplace_clearing_event_id","marketplace_clearing_event_name","mediatype_id","media_type","month","payment_type","pixel_id","placement_code","placement_id","placement_name","publisher_code","publisher_currency","publisher_id","publisher_name","pub_rule_code","pub_rule_name","pub_rule_id","revenue_type","revenue_type_id", "seller_member_id","seller_member_name","seller_type","selling_currency","site_code","site_id","site_name","size","supply_type","imps","imp_requests","imps_blank","imps_psa","imps_psa_error","imps_default_error","imps_default_bidder","imps_kept","imps_resold","imps_rtb","external_impression","clicks","click_thru_pct","external_click","cost","cost_including_fees","revenue","revenue_including_fees","booked_revenue","booked_revenue_adv_curr","reseller_revenue","profit","profit_including_fees","commissions","cpm","cpm_including_fees","post_click_convs","post_click_revenue","post_view_convs","post_view_revenue","total_convs","convs_per_mm","convs_rate","ctr","rpm","rpm_including_fees","total_network_rpm","total_publisher_rpm","sold_network_rpm","sold_publisher_rpm","media_cost_pub_curr","ppm","ppm_including_fees","serving_fees","imps_viewed","view_measured_imps","view_rate","view_measurement_rate","cpvm","imps_master_creative","data_costs","imps_filtered","avg_bid_reduction","revenue_buying_currency","revenue_selling_currency","booked_revenue_buying_currency","booked_revenue_selling_currency","reseller_revenue_buying_currency","reseller_revenue_selling_currency","cost_buying_currency","cost_selling_currency","profit_buying_currency","profit_selling_currency","total_network_rpm_buying_currency","total_network_rpm_selling_currency","cpm_buying_currency","cpm_selling_currency","rpm_buying_currency","rpm_selling_currency","ppm_buying_currency","ppm_selling_currency","sold_network_rpm_buying_currency","sold_network_rpm_selling_currency","commissions_buying_currency","commissions_selling_currency","serving_fees_buying_currency","serving_fees_selling_currency","data_costs_buying_currency","data_costs_selling_currency","marketplace_clearing_event_units","marketplace_clearing_events_booked_revenue_cpm","marketplace_clearing_event_buyer_media_cost_ecpm"]
        file_location: '/mnt/disks/airflow-tmp/{{ds}}/'
        local_file_name : 'appnexus_%s_{{ds_nodash}}.csv'
        location: 'gs://newsuk-datatech-uat/'
        bucket_name: 'newsuk-datatech-uat'
        file_path: 'staging/appnexus/{{ds}}/network_analytics/'
        log_file:  'appnexus_network_analytics_{{ds_nodash}}.csv'
        table_schema: './schema/network_analysis.json'
        dataset: 'commercial'
        table_name: 'network_analytics_report${{ds_nodash}}'
        start_date: "{{ds}}"
        end_date: "{{tomorrow_ds}}"
      - report: 'video_analytics_network'
        columns: ["hour","day","month","buyer_member_id","buyer_member_name","creative_id","creative_name","member_id","seller_member_id","seller_member_name","advertiser_id","advertiser_name","advertiser_currency","publisher_id","publisher_name","publisher_currency","site_id","site_name","placement_id","placement_name","placement_code","insertion_order_id","insertion_order_name","insertion_order","line_item_id","line_item_name","campaign_id","campaign_name","size","brand_id","brand_name","geo_country","geo_country_name","deal_id","deal_name","trafficker_for_insertion_order","creative_recency_bucket_id","creative_recency_bucket","creative_frequency_bucket","creative_frequency_bucket_id","site_domain","supply_type","video_playback_method","video_context","imps","clicks", "cost","revenue","profit","cpm","total_convs","convs_rate","ctr","rpm","rpm_including_fees","total_network_rpm","ppm","ppm_including_fees","cpm_including_fees","errors","starts","start_rate","skips","skip_rate","25_pcts","50_pcts","75_pcts","completions","completion_rate","revenue_per_video_complete","cost_per_video_complete","served","imps_viewed","view_measured_imps","view_rate","view_measurement_rate"]
        file_location: '/mnt/disks/airflow-tmp/{{ds}}/'
        local_file_name : 'appnexus_%s_{{ds_nodash}}.csv'
        location: 'gs://newsuk-datatech-uat/'
        bucket_name: 'newsuk-datatech-uat'
        file_path: 'staging/appnexus/{{ds}}/video_analytics_network/'
        log_file:  'appnexus_video_analytics_network_{{ds_nodash}}.csv'
        dataset: 'commercial'
        table_schema: './schema/video_analytics_network.json'
        table_name: 'video_analytics_network_report${{ds_nodash}}'
        start_date: "{{ds}}"
        end_date: "{{tomorrow_ds}}"